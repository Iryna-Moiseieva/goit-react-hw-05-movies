"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[601],{2881:function(e,n,r){r.d(n,{Z:function(){return t.Z}});var t=r(1625)},3601:function(e,n,r){r.r(n),r.d(n,{default:function(){return G}});var t,a,o,c,i,s=r(1413),u=r(5861),p=r(885),l=r(7757),f=r.n(l),v=r(2791),d=r(7689),h=r(8174),x=r(2881),g=r(168),b=r(6731),m=r(6444),w=m.ZP.div(t||(t=(0,g.Z)(["\n  border-top: 1px solid #ccc;\n  border-bottom: 1px solid #ccc;\n  padding: 30px 15px;\n"]))),Z=m.ZP.h3(a||(a=(0,g.Z)(["\n  font-size: var(--font-size-500);\n"]))),y=m.ZP.ul(o||(o=(0,g.Z)(["\n  margin-top: 15px;\n"]))),j=m.ZP.li(c||(c=(0,g.Z)(["\n  &:not(:last-child) {\n    margin-bottom: 10px;\n  }\n"]))),k=(0,m.ZP)(b.OL)(i||(i=(0,g.Z)(["\n  font-size: var(--font-size-400);\n  color: var(--color-gray-300);\n  &:hover,\n  &:focus {\n    color: var(--color-blue-100);\n  }\n\n  &.active {\n    color: var(--color-blue-300);\n"]))),_=r(184);function P(){return(0,_.jsxs)(w,{children:[(0,_.jsx)(Z,{children:"Additional information:"}),(0,_.jsxs)(y,{children:[(0,_.jsx)(j,{children:(0,_.jsx)(k,{to:"cast",children:"Cast"})}),(0,_.jsx)(j,{children:(0,_.jsx)(k,{to:"reviews",children:"Reviews"})})]})]})}var S,z,U,E,M,C=r(8565),B=m.ZP.div(S||(S=(0,g.Z)(["\n  display: flex;\n  gap: 30px;\n  width: 100%;\n  padding: 30px 15px;\n"]))),I=m.ZP.button(z||(z=(0,g.Z)(["\n  display: block;\n  margin: 0 auto;\n  min-width: 300px;\n  padding: 10px;\n\n  text-align: center;\n  text-decoration: none;\n  color: var(--color-white);\n  font-size: var(--font-size-200);\n  background-color: var(--color-blue-200);\n  border: 1px solid transparent;\n  border-radius: 8px;\n  transition: background-color 0.2s ease;\n\n  &:hover {\n    background-color: var(--color-blue-100);\n  }\n"]))),A=m.ZP.img(U||(U=(0,g.Z)(["\n  width: 240px;\n\n  box-shadow: 0 1px 4px black, -23px 0 20px -23px rgb(0 0 0 / 80%),\n    23px 0 20px -23px rgb(0 0 0 / 80%), 0 0 40px rgb(0 0 0 / 10%) inset;\n"]))),O=m.ZP.h2(E||(E=(0,g.Z)(["\n  font-weight: 600;\n  font-size: var(--font-size-300);\n  color: var(--color-black);\n  line-height: 1.15;\n  text-transform: uppercase;\n  margin-bottom: 15px;\n\n  &:first-child {\n    font-size: 30px;\n  }\n"]))),R=m.ZP.p(M||(M=(0,g.Z)(["\n  font-weight: 400;\n  font-size: var(--font-size-100);\n  color: var(--color-gray-200);\n\n  &:not(:last-child) {\n    margin-bottom: 20px;\n  }\n"])));function G(){var e,n=(0,v.useState)({}),r=(0,p.Z)(n,2),t=r[0],a=r[1],o=(0,v.useState)(!1),c=(0,p.Z)(o,2),i=c[0],l=c[1],g=(0,d.TH)(),b=(0,d.s0)(),m=(0,d.UO)().slug.match(/[a-z0-9]+$/)[0],w=(0,v.useRef)(null===(e=g.state)||void 0===e?void 0:e.prevPath);(0,v.useEffect)((function(){var e=function(){var e=(0,u.Z)(f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,C.Z.getMovieById(m);case 4:n=e.sent,a((0,s.Z)({},n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),h.Am.error(e.t0.message);case 11:return e.prev=11,l(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[m]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(I,{type:"button",onClick:function(){w.current?b(w.current):b("/")},children:"Go back"}),i&&(0,_.jsx)(x.Z,{}),(0,_.jsxs)(B,{children:[(0,_.jsx)(A,{src:t.src,alt:t.title}),(0,_.jsxs)("div",{children:[(0,_.jsx)(O,{children:t.title}),(0,_.jsxs)(R,{children:["User Score: ",t.userScore]}),(0,_.jsx)(O,{children:"Overview"}),(0,_.jsx)(R,{children:t.overview}),(0,_.jsx)(O,{children:"Genres"}),(0,_.jsx)(R,{children:t.genres})]})]}),(0,_.jsx)(P,{}),(0,_.jsx)(v.Suspense,{fallback:(0,_.jsx)(x.Z,{}),children:(0,_.jsx)(d.j3,{})})]})}},8565:function(e,n,r){var t=r(1413),a=r(5861),o=r(7757),c=r.n(o),i=r(4569),s=r.n(i),u=r(5340),p=r(2075),l="https://api.themoviedb.org/3",f="0a44406a328e0c9276ca96d909ee6267",v="https://image.tmdb.org/t/p/w500";function d(){return(d=(0,a.Z)(c().mark((function e(n){var r,t,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(l,"/trending/movie/week?api_key=").concat(f,"&language=ru-US"),e.next=3,s().get(r,n);case 3:if(t=e.sent,(a=t.data).results.length){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("Sorry, the service is temporarily unavailable.")));case 7:return e.abrupt("return",m(a.results));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=(0,a.Z)(c().mark((function e(n,r){var t,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(l,"/search/movie?api_key=").concat(f,"&query=").concat(n,"&language=ru-US"),e.next=3,s().get(t,r);case 3:if(a=e.sent,(o=a.data).results.length){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("Sorry, no results were found for ".concat(n,"."))));case 7:return e.abrupt("return",m(o.results));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=(0,a.Z)(c().mark((function e(n,r){var t,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(l,"/movie/").concat(n,"?api_key=").concat(f,"&language=ru-US"),e.next=3,s().get(t,r);case 3:if(a=e.sent,o=a.data){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("Sorry, the service is temporarily unavailable.")));case 7:return e.abrupt("return",w(o));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=(0,a.Z)(c().mark((function e(n,r){var t,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(l,"/movie/").concat(n,"/credits?api_key=").concat(f,"&language=ru-US"),e.next=3,s().get(t,r);case 3:if(a=e.sent,(o=a.data).cast.length){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("We don`t have any cast for this movie.")));case 7:return e.abrupt("return",Z(o.cast));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=(0,a.Z)(c().mark((function e(n,r){var t,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(l,"/movie/").concat(n,"/reviews?api_key=").concat(f,"&language=ru-US"),e.next=3,s().get(t,r);case 3:if(a=e.sent,(o=a.data).results.length){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("We don`t have any reviews for this movie.")));case 7:return e.abrupt("return",o.results);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return e.map((function(e){return(0,t.Z)((0,t.Z)({},e),{},{poster_path:y(e.poster_path)})}))}function w(e){var n=e.genres.map((function(e){return e.name})).join(" ");return{title:e.original_title,overview:e.overview,userScore:"".concat(10*e.vote_average,"%"),genres:n,src:y(e.poster_path)}}function Z(e){return e.map((function(e){return{id:e.cast_id,name:e.name,src:e.profile_path?"".concat(v).concat(e.profile_path):u,character:e.character}}))}function y(e){return e?"".concat(v).concat(e):p}var j={getMoviesByTrend:function(e){return d.apply(this,arguments)},getMoviesByQuery:function(e,n){return h.apply(this,arguments)},getMovieById:function(e,n){return x.apply(this,arguments)},getMovieCast:function(e,n){return g.apply(this,arguments)},getMovieReviews:function(e,n){return b.apply(this,arguments)}};n.Z=j},5340:function(e,n,r){e.exports=r.p+"static/media/defaultImage.790d40ee4652129fa9ba.jpg"},2075:function(e,n,r){e.exports=r.p+"static/media/noImageAvailable.6ba4af2ecc3184b76a22.jpg"}}]);
//# sourceMappingURL=601.b691383e.chunk.js.map