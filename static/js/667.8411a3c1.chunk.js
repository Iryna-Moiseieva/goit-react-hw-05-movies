"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[667],{4667:function(e,r,t){t.r(r),t.d(r,{default:function(){return S}});var n,a,c,i,u=t(5861),s=t(885),o=t(7757),p=t.n(o),f=t(2791),l=t(7689),h=t(8174),v=t(2881),m=t(168),g=t(6444),d=g.ZP.li(n||(n=(0,m.Z)(["\n  width: calc((100% - 60px) / 5);\n  padding-bottom: 10px;\n"]))),x=g.ZP.img(a||(a=(0,m.Z)(["\n  display: block;\n  width: 228px;\n  height: 342px;\n  object-fit: cover;\n  margin-bottom: 10px;\n"]))),b=g.ZP.p(c||(c=(0,m.Z)(["\n  font-size: 16px;\n  margin-bottom: 10px;\n"]))),w=g.ZP.p(i||(i=(0,m.Z)(["\n  font-size: 16px;\n"]))),y=t(184);function Z(e){var r=e.src,t=e.name,n=e.character;return(0,y.jsxs)(d,{children:[(0,y.jsx)(x,{src:r}),(0,y.jsxs)(b,{children:[(0,y.jsx)("b",{children:"Name:"})," ",t]}),(0,y.jsxs)(w,{children:[(0,y.jsx)("b",{children:"Character:"})," ",n]})]})}var k,_=t(8565),j=g.ZP.ul(k||(k=(0,m.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 15px;\n  padding-top: 15px;\n"])));function S(){var e=(0,f.useState)(null),r=(0,s.Z)(e,2),t=r[0],n=r[1],a=(0,f.useState)(!1),c=(0,s.Z)(a,2),i=c[0],o=c[1],m=(0,l.UO)().slug.match(/[a-z0-9]+$/)[0];return(0,f.useEffect)((function(){function e(){return(e=(0,u.Z)(p().mark((function e(){var r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,_.Z.getMovieCast(m);case 4:r=e.sent,n(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),h.Am.error(e.t0.message);case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[m]),(0,y.jsxs)(y.Fragment,{children:[i&&(0,y.jsx)(v.Z,{}),(0,y.jsx)(j,{children:null===t||void 0===t?void 0:t.map((function(e){var r=e.id,t=e.src,n=e.name,a=e.character;return(0,y.jsx)(Z,{src:t,name:n,character:a},r)}))})]})}},2881:function(e,r,t){t.d(r,{Z:function(){return n.Z}});var n=t(1625)},8565:function(e,r,t){var n=t(1413),a=t(5861),c=t(7757),i=t.n(c),u=t(4569),s=t.n(u),o=t(5340),p=t(2075),f="https://api.themoviedb.org/3",l="0a44406a328e0c9276ca96d909ee6267",h="https://image.tmdb.org/t/p/w500";function v(){return(v=(0,a.Z)(i().mark((function e(r){var t,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(f,"/trending/movie/week?api_key=").concat(l,"&language=ru-US"),e.next=3,s().get(t,r);case 3:if(n=e.sent,(a=n.data).results.length){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("Sorry, the service is temporarily unavailable.")));case 7:return e.abrupt("return",b(a.results));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=(0,a.Z)(i().mark((function e(r,t){var n,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(f,"/search/movie?api_key=").concat(l,"&query=").concat(r,"&language=ru-US"),e.next=3,s().get(n,t);case 3:if(a=e.sent,(c=a.data).results.length){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("Sorry, no results were found for ".concat(r,"."))));case 7:return e.abrupt("return",b(c.results));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=(0,a.Z)(i().mark((function e(r,t){var n,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(f,"/movie/").concat(r,"?api_key=").concat(l,"&language=ru-US"),e.next=3,s().get(n,t);case 3:if(a=e.sent,c=a.data){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("Sorry, the service is temporarily unavailable.")));case 7:return e.abrupt("return",w(c));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=(0,a.Z)(i().mark((function e(r,t){var n,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(f,"/movie/").concat(r,"/credits?api_key=").concat(l,"&language=ru-US"),e.next=3,s().get(n,t);case 3:if(a=e.sent,(c=a.data).cast.length){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("We don`t have any cast for this movie.")));case 7:return e.abrupt("return",y(c.cast));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=(0,a.Z)(i().mark((function e(r,t){var n,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(f,"/movie/").concat(r,"/reviews?api_key=").concat(l,"&language=ru-US"),e.next=3,s().get(n,t);case 3:if(a=e.sent,(c=a.data).results.length){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("We don`t have any reviews for this movie.")));case 7:return e.abrupt("return",c.results);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return e.map((function(e){return(0,n.Z)((0,n.Z)({},e),{},{poster_path:Z(e.poster_path)})}))}function w(e){var r=e.genres.map((function(e){return e.name})).join(" ");return{title:e.original_title,overview:e.overview,userScore:"".concat(10*e.vote_average,"%"),genres:r,src:Z(e.poster_path)}}function y(e){return e.map((function(e){return{id:e.cast_id,name:e.name,src:e.profile_path?"".concat(h).concat(e.profile_path):o,character:e.character}}))}function Z(e){return e?"".concat(h).concat(e):p}var k={getMoviesByTrend:function(e){return v.apply(this,arguments)},getMoviesByQuery:function(e,r){return m.apply(this,arguments)},getMovieById:function(e,r){return g.apply(this,arguments)},getMovieCast:function(e,r){return d.apply(this,arguments)},getMovieReviews:function(e,r){return x.apply(this,arguments)}};r.Z=k},5340:function(e,r,t){e.exports=t.p+"static/media/defaultImage.790d40ee4652129fa9ba.jpg"},2075:function(e,r,t){e.exports=t.p+"static/media/noImageAvailable.6ba4af2ecc3184b76a22.jpg"}}]);
//# sourceMappingURL=667.8411a3c1.chunk.js.map