"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[168],{2881:function(e,t,r){r.d(t,{Z:function(){return n.Z}});var n=r(1625)},3168:function(e,t,r){r.r(t),r.d(t,{default:function(){return _}});var n,a,c,u=r(5861),i=r(885),o=r(7757),s=r.n(o),p=r(2791),f=r(7689),l=r(8174),v=r(2881),h=r(168),d=r(6444),g=d.ZP.li(n||(n=(0,h.Z)(["\n  padding-top: 10px;\n  padding-bottom: 10px;\n\n  &:nth-child(2n) {\n    background-color: #eee;\n  }\n"]))),m=d.ZP.h3(a||(a=(0,h.Z)(["\n  font-size: 16px;\n  margin-bottom: 10px;\n"]))),x=d.ZP.p(c||(c=(0,h.Z)(["\n  padding-left: 10px;\n  padding-right: 10px;\n  font-size: 16px;\n"]))),w=r(184);function b(e){var t=e.name,r=e.review;return(0,w.jsxs)(g,{children:[(0,w.jsx)(m,{children:t}),(0,w.jsx)(x,{children:r})]})}var y,k=r(8565),Z=d.ZP.ul(y||(y=(0,h.Z)(["\n  width: 100%;\n"])));function _(){var e=(0,p.useState)(null),t=(0,i.Z)(e,2),r=t[0],n=t[1],a=(0,p.useState)(!1),c=(0,i.Z)(a,2),o=c[0],h=c[1],d=(0,f.UO)().slug.match(/[a-z0-9]+$/)[0];return(0,p.useEffect)((function(){function e(){return(e=(0,u.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,k.Z.getMovieReviews(d);case 4:t=e.sent,n(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),l.Am.error(e.t0.message);case 11:return e.prev=11,h(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[d]),(0,w.jsxs)(w.Fragment,{children:[o&&(0,w.jsx)(v.Z,{}),(0,w.jsx)(Z,{children:null===r||void 0===r?void 0:r.map((function(e){var t=e.id,r=e.author,n=e.content;return(0,w.jsx)(b,{name:r,review:n},t)}))})]})}},8565:function(e,t,r){var n=r(1413),a=r(5861),c=r(7757),u=r.n(c),i=r(4569),o=r.n(i),s=r(5340),p=r(2075),f="https://api.themoviedb.org/3",l="0a44406a328e0c9276ca96d909ee6267",v="https://image.tmdb.org/t/p/w500";function h(){return(h=(0,a.Z)(u().mark((function e(t){var r,n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(f,"/trending/movie/week?api_key=").concat(l,"&language=ru-US"),e.next=3,o().get(r,t);case 3:if(n=e.sent,(a=n.data).results.length){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("Sorry, the service is temporarily unavailable.")));case 7:return e.abrupt("return",w(a.results));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=(0,a.Z)(u().mark((function e(t,r){var n,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(f,"/search/movie?api_key=").concat(l,"&query=").concat(t,"&language=ru-US"),e.next=3,o().get(n,r);case 3:if(a=e.sent,(c=a.data).results.length){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("Sorry, no results were found for ".concat(t,"."))));case 7:return e.abrupt("return",w(c.results));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=(0,a.Z)(u().mark((function e(t,r){var n,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(f,"/movie/").concat(t,"?api_key=").concat(l,"&language=ru-US"),e.next=3,o().get(n,r);case 3:if(a=e.sent,c=a.data){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("Sorry, the service is temporarily unavailable.")));case 7:return e.abrupt("return",b(c));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=(0,a.Z)(u().mark((function e(t,r){var n,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(f,"/movie/").concat(t,"/credits?api_key=").concat(l,"&language=ru-US"),e.next=3,o().get(n,r);case 3:if(a=e.sent,(c=a.data).cast.length){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("We don`t have any cast for this movie.")));case 7:return e.abrupt("return",y(c.cast));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=(0,a.Z)(u().mark((function e(t,r){var n,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(f,"/movie/").concat(t,"/reviews?api_key=").concat(l,"&language=ru-US"),e.next=3,o().get(n,r);case 3:if(a=e.sent,(c=a.data).results.length){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("We don`t have any reviews for this movie.")));case 7:return e.abrupt("return",c.results);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return e.map((function(e){return(0,n.Z)((0,n.Z)({},e),{},{poster_path:k(e.poster_path)})}))}function b(e){var t=e.genres.map((function(e){return e.name})).join(" ");return{title:e.original_title,overview:e.overview,userScore:"".concat(10*e.vote_average,"%"),genres:t,src:k(e.poster_path)}}function y(e){return e.map((function(e){return{id:e.cast_id,name:e.name,src:e.profile_path?"".concat(v).concat(e.profile_path):s,character:e.character}}))}function k(e){return e?"".concat(v).concat(e):p}var Z={getMoviesByTrend:function(e){return h.apply(this,arguments)},getMoviesByQuery:function(e,t){return d.apply(this,arguments)},getMovieById:function(e,t){return g.apply(this,arguments)},getMovieCast:function(e,t){return m.apply(this,arguments)},getMovieReviews:function(e,t){return x.apply(this,arguments)}};t.Z=Z},5340:function(e,t,r){e.exports=r.p+"static/media/defaultImage.790d40ee4652129fa9ba.jpg"},2075:function(e,t,r){e.exports=r.p+"static/media/noImageAvailable.6ba4af2ecc3184b76a22.jpg"}}]);
//# sourceMappingURL=168.0eec661e.chunk.js.map